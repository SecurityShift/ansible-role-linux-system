---
# defaults file for SecurityShift.common

selinux_state: enforcing

required_vars:
  - 'spacewalk_server'
  - 'spacewalk_key'
  - 'spacewalk_ip'

nmcli_bond: []
nmcli_bond_slave: []
nmcli_ethernet: []
nmcli_vlan: []

firewall_default_zone: drop
firewall_log_denied: all
firewall_default_services:
  - service: ssh
    zone: internal

    aliases: []

admin_prefix: 24

admin_interface:
  - name: services
    vlanid: 20
    vlandev: services
    slaves:
      - ens2f0
      - ens2f1

mailaliases:
  - name: root
    alias: '{{ admin_email }}'

issue_content: |

  ********************************************************************
  *                                                                  *
  * This system is for the use of authorized users only.  Usage of   *
  * this system may be monitored and recorded by system personnel.   *
  *                                                                  *
  * Anyone using this system expressly consents to such monitoring   *
  * and is advised that if such monitoring reveals possible          *
  * evidence of criminal activity, system personnel may provide the  *
  * evidence from such monitoring to law enforcement officials.      *
  *                                                                  *
  ********************************************************************

sshd: {}
sshd_packages:
  - openssh
  - openssh-server
sshd_manage_service: true
sshd_skip_defaults: false
sshd_config_owner: root
sshd_config_group: root
sshd_config_mode: "0600"
sshd_config_file: /etc/ssh/sshd_config
sshd_binary: /usr/sbin/sshd
sshd_service: sshd
sshd_sftp_server: /usr/libexec/openssh/sftp-server
sshd_defaults:
  HostKey:
    - /etc/ssh/ssh_host_rsa_key
    - /etc/ssh/ssh_host_ecdsa_key
    - /etc/ssh/ssh_host_ed25519_key
  SyslogFacility: AUTHPRIV
  AuthorizedKeysFile: .ssh/authorized_keys
  PasswordAuthentication: yes
  ChallengeResponseAuthentication: no
  GSSAPIAuthentication: yes
  GSSAPICleanupCredentials: yes
# Note that UsePAM: no is not supported under RHEL/CentOS. See
# https://github.com/willshersystems/ansible-sshd/pull/51#issuecomment-287333218
  UsePAM: yes
  X11Forwarding: yes
  Banner: /etc/issue.net
  PermitRootLogin: no
  ListenAddress: '{{ admin_ip }}'
  UsePrivilegeSeparation: sandbox
  AcceptEnv:
    - LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
    - LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
    - LC_IDENTIFICATION LC_ALL LANGUAGE
    - XMODIFIERS
  Subsystem: "sftp {{ sshd_sftp_server }}"

...