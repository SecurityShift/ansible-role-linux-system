---
# tasks file for common

- name: Check required variables
  fail: msg="Variable "{{ item }}" is not defined"
  when: item not in vars
  with_items: "{{required_vars}}"
  changed_when: False

- import_tasks: yum.yml
- import_tasks: config.yml
- import_tasks: admin.yml
- import_tasks: ssh.yml
- import_tasks: lvm.yml
- import_tasks: mount.yml
- import_tasks: audit.yml
- import_tasks: network.yml
- import_tasks: selinux.yml
- import_tasks: firewall.yml
- import_tasks: ipa.yml
- import_tasks: mail.yml
- import_tasks: ossec.yml

- name: Config | Add issue for before login
  copy:
    content: "{{ issue_content }}"
    dest: '/etc/{{ item }}'
  with_items:
    - issue
    - issue.net
  tags:
    - config
    - security

- name: Config | Add motd for after login
  copy:
    content: "{{ motd_content }}"
    dest: /etc/motd
  tags:
    - config
    - security

- import_role:
    name: aide


...
